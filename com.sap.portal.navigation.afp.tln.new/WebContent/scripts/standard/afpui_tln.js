var AFP_TLN_DRAG_DROP=function(){var r=null;var a=false;var k=false;var w=null;var n=[];var h=[];var p=null;var d=null;var z=null;var g=null;var x=null;var y=null;var m=null;var q=false;var f=null;var i=function(B,A){z=JSUtils.$("dragHelper_div");if(JSUtils.BrowserDetection.applewebkit){z.style.position="absolute"}};var e=function(){return z};var c=function(){var A=n.length;n[A]=[];h[A]=[];for(var D=0;D<arguments.length;D++){var C=arguments[D];n[A].push(C);C.setAttribute("DropObj",A);for(var B=0;B<C.childNodes.length;B++){if(C.childNodes[B].getAttribute("isDrag")=="1"){C.childNodes[B].setAttribute("DragObj",A);C.childNodes[B].setAttribute("CurCont",D)}else{if(C.childNodes[B].getAttribute("name")=="tabDragMarker"){h[A].push(C.childNodes[B])}}}}};var t=function(E,D,C){D=D||window.event;var B=v(E,C);var A=JSUtils.mouseCoords(D);return{x:A.x-B.x,y:A.y-B.y}};var v=function(D,A){if(D.getBoundingClientRect){var G=D.getBoundingClientRect();return{x:G.left+document.body.scrollLeft,y:G.top+document.body.scrollTop}}A=A||[];var F=0,E=0;do{F+=D.offsetLeft||0;E+=D.offsetTop||0;D=D.offsetParent}while(D);for(var C=0;C<A.length;C++){var B=document.getElementById(A[C]);F-=B.scrollLeft||0;E-=B.scrollTop||0}F-=document.body.scrollLeft;E-=document.body.scrollTop;return{x:F,y:E}};var b=function(ac){ac=ac||window.event;var ag=JSUtils.getElementFromEvent(ac);var Y=JSUtils.mouseCoords(ac);if(ag.className=="TransparentCover"){ag=ag.parentNode}var A=ag.getAttribute?ag.getAttribute("DragObj"):null;if(A!=null){if(a&&q&&!k){p=ag;g=p.parentNode;x=p.nextSibling;if(x.getAttribute("name")=="tabDragMarker"){x=x.nextSibling}for(var Z=0;Z<z.childNodes.length;Z++){z.removeChild(z.childNodes[Z])}p.style.cursor="move";z.appendChild(p.cloneNode(true));z.style.display="block";var ah=z.firstChild;while(ah&&ah.getAttribute("isDrag")!=1){ah=ah.nextSibling}JSUtils.clearAllEventsFromElement(ah);ah.removeAttribute("DragObj");ah.id="dragChild";z.style.width=parseInt(p.getAttribute("savedClientWidth"))+"px";z.style.height=parseInt(p.clientHeight)+"px";var D=n[A];var ae=D[parseInt(ag.getAttribute("CurCont"))].getAttribute("overflown").split(",");r=t(ag,ac,ae);p.setAttribute("startWidth",parseInt(p.offsetWidth));p.setAttribute("startHeight",parseInt(p.offsetHeight));p.style.display="none";for(var Z=0;Z<D.length;Z++){var I=v(D[Z]);if(JSUtils.BrowserDetection.applewebkit){D[Z].setAttribute("startHeight",parseInt(D[Z].scrollHeight))}else{D[Z].setAttribute("startHeight",parseInt(D[Z].offsetHeight))}D[Z].setAttribute("startWidth",parseInt(D[Z].offsetWidth));D[Z].setAttribute("startLeft",parseInt(I.x));D[Z].setAttribute("startTop",parseInt(I.y));for(var X=0;X<D[Z].childNodes.length;X++){if((D[Z].childNodes[X].nodeName=="#text")||(D[Z].childNodes[X]==p)){continue}var ae=D[Z].getAttribute("overflown").split(",");var I=v(D[Z].childNodes[X],ae);if(JSUtils.BrowserDetection.applewebkit){D[Z].childNodes[X].setAttribute("startHeight",parseInt(D[Z].childNodes[X].scrollHeight))}else{D[Z].childNodes[X].setAttribute("startHeight",parseInt(D[Z].childNodes[X].offsetHeight))}D[Z].childNodes[X].setAttribute("startWidth",parseInt(D[Z].childNodes[X].offsetWidth));D[Z].childNodes[X].setAttribute("startLeft",parseInt(I.x));D[Z].childNodes[X].setAttribute("startTop",parseInt(I.y))}}}}if(p&&p.getAttribute("isDrag")=="1"){var B=Y.y-r.y;var ad=Y.x-r.x;var E=parseInt(p.getAttribute("startWidth"));var S=parseInt(p.getAttribute("startHeight"));if(B>0&&(B+S)<LayoutService.getBodyHeight()){z.style.top=Y.y-r.y}if(!LSAPI.AFPPlugin.configuration.isRTL()){if(ad>0&&(ad+E)<LayoutService.getBodyWidth()){z.style.left=Y.x-r.x}}else{var W=5;var N=Y.x-E-document.body.scrollLeft+W;if(N>=0&&(Y.x-document.body.scrollLeft+W)<LayoutService.getBodyWidth()){z.style.left=N+"px"}}var D=n[p.getAttribute("DragObj")];var K=h[p.getAttribute("DragObj")];var V=null;var Q=Y.x-r.x;var T=Y.y-r.y;for(var Z=0;Z<D.length;Z++){if((parseInt(D[Z].getAttribute("startLeft"))<Q)&&(parseInt(D[Z].getAttribute("startTop"))<T)&&((parseInt(D[Z].getAttribute("startLeft"))+parseInt(D[Z].getAttribute("startWidth")))>Q)&&((parseInt(D[Z].getAttribute("startTop"))+parseInt(D[Z].getAttribute("startHeight")))>T)){V=D[Z];if(y&&y!=K[Z]&&y.style){y.style.display="none"}y=K[Z];break}}if(V){var U=null;var P,aa,L;if(LSAPI.AFPPlugin.configuration.isRTL()){P=0;aa=V.childNodes.length;L=1}else{P=V.childNodes.length-1;aa=-1;L=-1}for(var Z=P;Z!=aa;Z+=L){var F=V.childNodes[Z];if(F.nodeName=="#text"){continue}if(F==y){continue}var J=parseInt(F.getAttribute("startTop"));var C=parseInt(F.getAttribute("startHeight"));var R=parseInt(F.getAttribute("startLeft"));var O=parseInt(F.getAttribute("startWidth"));if(p!=F&&((J+C)>T)&&((!LSAPI.AFPPlugin.configuration.isRTL()&&((R+O)>Q)))||(LSAPI.AFPPlugin.configuration.isRTL()&&((R+O)>Y.x))){U=F}}if(U){if(m==null){m=U}if(V.getAttribute("overflown")==TLN_AFP_IVIEW.getFirstLevelScrollableElm().id){var G=null;var M=parseInt(U.getAttribute("startLeft"));var af=parseInt(U.getAttribute("startWidth"));var H=parseInt(TLN_AFP_IVIEW.getFirstLevelPosition().x);var ab=parseInt(TLN_AFP_IVIEW.getFirstLevelScrollableElm().style.width);if(LSAPI.AFPPlugin.configuration.isRTL()){if(M+af>H-10){G="ff"}else{if(M<0){G="rw"}}}else{if(M<H-10){G="rw"}else{if(M+af>H+ab){G="ff"}}}if(G){TLN_AFP_IVIEW.first_level_scroll(G);j(V);V.insertBefore(y,p)}}if(U!=p.nextSibling){m=U;V.insertBefore(p,U);V.insertBefore(y,p)}}else{if((p.nextSibling)||(p.parentNode!=V)){m="end";V.appendChild(p);V.insertBefore(y,p)}}if(p.style.display!="none"){p.style.display="none"}if(y.style.display!=""){y.style.display=""}}else{m=null;if(p.style.display!="none"){p.style.display="none"}if(y&&y.style.display!="none"){y.style.display="none"}}}else{if(a&&!k&&ag.getAttribute("isDrag")=="0"){ag.style.cursor="no-drop";p=ag}}k=a;d=ag;k=a;return false};var s=function(A){if(!y){y=JSUtils.$("tabDragMarker")}if(p){p.style.cursor="pointer";if(p.getAttribute("isDrag")=="1"){z.style.display="none";if(y.style.display=="none"){if(x){g.insertBefore(p,x)}else{g.appendChild(p)}}else{y.style.display="none";TLN_AFP_IVIEW.rearrangeTlnNodes(p,m)}p.style.display="";TLN_AFP_IVIEW.updateFirstLevelScrollBtnsState("both")}}p=null;a=false;k=a;if(f){clearTimeout(f);delete f}if(document.addEventListener){document.removeEventListener("mousemove",b,false);document.removeEventListener("mouseup",s,false)}else{if(document.attachEvent){document.detachEvent("onmousemove",b);document.detachEvent("onmouseup",s);document.body.detachEvent("onmouseleave",s)}}l()};var u=function(A){a=true;q=true;o();if(document.addEventListener){document.addEventListener("mousemove",b,false);document.addEventListener("mouseup",s,false)}else{if(document.attachEvent){document.attachEvent("onmousemove",b);document.attachEvent("onmouseup",s);document.body.attachEvent("onmouseleave",s)}}if(d||JSUtils.BrowserDetection.applewebkit){return false}};var o=function(){var B=JSUtils.$("divContentArea");if(B){var A=JSUtils.findAbsolutePosition(B);coverAreaElement.setSizeAndLocation(A.x,A.y,B.offsetWidth,B.offsetHeight);coverAreaElement.display("dragHelper_div")}};var l=function(){coverAreaElement.hide("dragHelper_div")};var j=function(C){for(var B=0;B<C.childNodes.length;B++){if((C.childNodes[B].nodeName=="#text")||(C.childNodes[B]==p)){continue}var A=C.getAttribute("overflown").split(",");var D=v(C.childNodes[B],A);C.childNodes[B].setAttribute("startWidth",parseInt(C.childNodes[B].offsetWidth));C.childNodes[B].setAttribute("startHeight",parseInt(C.childNodes[B].offsetHeight));C.childNodes[B].setAttribute("startLeft",parseInt(D.x));C.childNodes[B].setAttribute("startTop",parseInt(D.y))}};return{CreateDragContainer:c,setDragHelper:i,getDragHelper:e,mouseDown:u}}();var personalizationChange=null;var TLN_AFP_IVIEW=function(){var bH=30;var bU=50;var A="com.sap.portal.navigation.isDocked";var ai="com.sap.portal.navigation.Tooltip";var a="com.sap.portal.navigation.levels";var aA="com.sap.portal.navigation.afp.dragableTabs";var aW="afp_personalize_menu_id";var bp="com.sap.portal.navigation.afp.menu.item.ClearPersonalization";var s="displayName";var bl="fixedTitle";var ch="isSelected";var bn="savedClientHeight";var o="savedClientWidth";var N="tabIndex";var ay="topTabIndex";var bL="subTabIndex";var O="disableClass";var T="hoverClass";var w="standardClass";var b1="enabled";var aS="downClass";var aL="isOverflow";var bu="length";var b=4;var bi=0;var b0="TopLevel";var a="com.sap.portal.navigation.levels";var X;var ce;var an;var Q;var aj;var b3="";var g;var bo=10000;var ab,a4;var bB=false;var af=true;var P=false;var u=false;var aK,y;var br;var aG;var v=[];var b5=[];var aY;var bg;var m;var bM;var V=null;var aT={};var bb;var Z=false;var cl=false;var cg=null;var bV=null;var ag,t;var ad=null,C;var cj=null;var D=false;var az=null;var aJ="TabWorkCenter";var bT="TabHome";var bf="DarkSeparator01";var aM="Separator";var a6="WorkcenterStandard";var b4="WorkcenterDown";var Y="WorkcenterHover";var K="HouseStandard";var ao="HouseDown";var bc="HouseHover";var L="TabHover";var bO="TabDown00";var b2="TabDown10";var ci="TabDown20";var aE="TabDownForSub00";var aU="TabDownForSub10";var a7="TabDownForSub20";var bm="TabDownForSub01";var bW="TabDownForSub11";var b9="TabDownForSub21";var bS="OverflowTab";var j="DragMarker1";var bw="TabText";var bj="TabBottomBorder";var k="TabDown";var n='<img src="/com.sap.portal.navigation.afp.tln/images/blank.gif" alt="" style="width:1px;" />';var bh=function bh(){return['<table cellpadding="0" cellspacing="0" border="0" height="100%" width="2">',"<tr>",'<td height="100%" class="DarkSeparator00" nowrap="nowrap">'+n+"</td>","</tr>","<tr>",'<td class="',bf,'" nowrap="nowrap">'+n+"</td>","</tr>","</table>"].join("")};var ah=function ah(){return['<table dir="ltr" width="100%" cellpadding="0" cellspacing="0" border="0">',"<tr>",'<td class="'+bO+'" nowrap="nowrap">'+n+"</td>",'<td width="100%" class="'+b2+'" nowrap="nowrap">'+n+"</td>",'<td class="'+ci+'" nowrap="nowrap">'+n+"</td>","</tr>","</table>"].join("")};var aa=function aa(){var cn="";if(LSAPI.AFPPlugin.configuration.isRTL()&&!az){cn=' style="background-position: left top;"'}return['<table dir="ltr" width="100%" cellpadding="0" cellspacing="0" border="0">',"<tr>",'<td class="'+aE+'"'+cn+' nowrap="nowrap">'+n+"</td>",'<td class="'+aU+'" width="100%" nowrap="nowrap">'+n+'</td><td class="'+a7+'" nowrap="nowrap">'+n+"</td>","</tr>","<tr>",'<td class="'+bm+'"'+cn+' height="100%" nowrap="nowrap">'+n+"</td>",'<td class="'+bW+'" height="3px" nowrap="nowrap">'+n+"</td>",'<td class="'+b9+'" nowrap="nowrap">'+n+"</td>","</tr></table>"].join("")};var U=function U(){var cn="";if(JSUtils.BrowserDetection.applewebkit){cn=' style="height: 45px;"'}return['<table dir="ltr" width="100%" cellpadding="0" cellspacing="0" border="0"'+cn+">","<tr>",'<td class="HomeDownForSub00_SmallTabs" nowrap="nowrap">'+n+"</td>",'<td class="HomeDownForSub10_SmallTabs" width="100%" nowrap="nowrap">'+n+"</td>",'<td class="HomeDownForSub20_SmallTabs" nowrap="nowrap">'+n+"</td>","</tr>","<tr>",'<td class="HomeDownForSub01_SmallTabs" height="100%" nowrap="nowrap">'+n+"</td>",'<td class="HomeDownForSub11_SmallTabs" width="100%" nowrap="nowrap">'+n+"</td>",'<td class="HomeDownForSub21_SmallTabs" nowrap="nowrap">'+n+"</td>","</tr>","<tr>",'<td class="HomeDownForSub02_SmallTabs" nowrap="nowrap">'+n+"</td>",'<td class="HomeDownForSub12_SmallTabs" width="100%" nowrap="nowrap">'+n+"</td>",'<td class="HomeDownForSub22_SmallTabs" nowrap="nowrap">'+n+"</td>","</tr>","</table>"].join("")};var al=function al(){return['<div id="tabDragMarker" name="tabDragMarker" class="DragMarker" style="display:none;">','<div class="DragMarker0"></div>',"<div class="+j+"></div>",'<div class="DragMarker2"></div>',"</div>"].join("")};var aD=function aD(){R();var cn=LSAPI.AFPPlugin.model.getCurrentLaunchNode();cm(cn);az=(aj=="No Images");aN();b7()};var R=function R(){EPCM.subscribeEvent("urn:com.sapportals:navigation","ClearPersonalization",TLN_AFP_IVIEW.clearPersonalization);personalizationChange=top.LSAPI.AFPPlugin.service.getPersonalizationChangesMethod(TLN_AFP_IVIEW.savePersonalization);top.LSAPI.AFPPlugin.controller.registerOnNavigate(TLN_AFP_IVIEW.updateTLN);top.LSAPI.getVisualPlugin().registerScreenModeChangeNotification(TLN_AFP_IVIEW.screenModeChange);top.LSAPI.getTabsetPlugin().registerOnTabsetSwitch(TLN_AFP_IVIEW.applyTabsetFilter);top.LSAPI.getTabsetPlugin().registerOnBeforeTabsetSwitch(TLN_AFP_IVIEW.beforeTabsetSwitched)};var cm=function cm(cn){TLN_AFP_IVIEW.updateNavLevels(cn);an=top.LSAPI.AFPPlugin.configuration.getClientSideAttributeValue(b0,"com.sap.portal.navigation.afp.removableTabs");if(JSUtils.isEmpty(an)||"null"==an){an="false"}an=(an=="true");Q=top.LSAPI.AFPPlugin.configuration.getClientSideAttributeValue(b0,"com.sap.portal.navigation.afp.dragableTabs");if(JSUtils.isEmpty(Q)||"null"==Q){Q="true"}Q=(Q=="true");ax();g=LSAPI.AFPPlugin.configuration.getClientSideAttributeValue(b0,"com.sap.portal.navigation.afp.drillDownLevel");if(JSUtils.isEmpty(g)||"null"==g){g="2"}aj=LSAPI.AFPPlugin.configuration.getClientSideAttributeValue(b0,"com.sap.portal.navigation.afp.displayMode");if(JSUtils.isEmpty(aj)||"null"==aj){aj="Default"}b3=(aj=="No Images")?"_SmallTabs":"";TLN_AFP_IVIEW.initCssPrefixes()};var ax=function ax(){bi=top.LSAPI.AFPPlugin.configuration.getClientSideAttributeValue(b0,"com.sap.portal.navigation.afp.numberOfFixedTabs");if(JSUtils.isEmpty(bi)||"null"==bi){bi="1"}bi=parseInt(bi)};var aN=function aN(){var co=JSUtils.$("firstLevelTR");if(!co){return}if(bi>0){var cs=co.insertCell(-1);cs.id="staticMenuTD";cs.className="Menu Static";cs.style.verticalAlign="top";cs.nowrap="nowrap";cs.innerHTML='<div id="staticMenuDiv"></div>';var cq=co.insertCell(-1);cq.style.verticalAlign="top";cq.style.width="2px";cq.style.paddingTop="1px";cq.innerHTML=bh()}var cp=new JSUtils.StringBuilder();var cu=co.insertCell(-1);cu.id="firstLevelScrollable_td";cu.className="Menu Scrollable";if(az){cu.style.width="100%"}cu.style.display="block";cu.style.verticalAlign="top";cu.nowrap="nowrap";cp.Append('<div id="firstLevelScrollable" class="firstLevelScrollableClass">');cp.Append('<div id="allFirstLevelTabs" style="height:100%;" overflown="firstLevelScrollable">');cp.Append("</div>");cp.Append("</div>");cu.innerHTML=cp.ToString();if(az){var cr=co.insertCell(-1);cr.innerHTML='<div class="OverflowDividerLeft_SmallTabs"></div>'}else{var cn=co.insertCell(-1);cn.style.verticalAlign="top";cn.style.width="2px";cn.style.paddingTop="1px";if(LSAPI.AFPPlugin.configuration.isRTL()){cn.style.paddingLeft="24px"}cn.innerHTML=bh()}var ct=co.insertCell(-1);ct.id="endStretchedArea";ct.className="EndArea"+b3;ct.nowrap="nowrap";cp=new JSUtils.StringBuilder();if(az){cp.Append('<table id="OverflowAreaOpen" class="ScrollingArea Open_SmallTabs" width="100%" cellpadding="0" cellspacing="0" border="0" style="display: none;">');cp.Append("<tr>");cp.Append('<td><div id="tlnBackwardBtn" class="BackwardBtn_SmallTabs bDisabled_SmallTabs" enabled="0" standardClass="BackwardBtn_SmallTabs bStandard_SmallTabs" hoverClass="BackwardBtn_SmallTabs bHover_SmallTabs" downClass="BackwardBtn_SmallTabs bDown_SmallTabs" disableClass="BackwardBtn_SmallTabs bDisabled_SmallTabs" onmousedown="TLN_AFP_IVIEW.scrollBtnDown(this);event.cancelBubble=true;" onmouseup="TLN_AFP_IVIEW.scrollBtnUp(this);event.cancelBubble=true;" onmouseover="TLN_AFP_IVIEW.scrollBtnHover(this);event.cancelBubble=true;" onmouseout="TLN_AFP_IVIEW.scrollBtnOut(this);event.cancelBubble=true;"></div></td>');cp.Append('<td><div class="OverflowDivider_SmallTabs"></div></td>');cp.Append('<td><div id="tlnForwardBtn" class="ForwardBtn_SmallTabs fStandard_SmallTabs" enabled="1" standardClass="ForwardBtn_SmallTabs fStandard_SmallTabs" hoverClass="ForwardBtn_SmallTabs fHover_SmallTabs" downClass="ForwardBtn_SmallTabs fDown_SmallTabs" disableClass="ForwardBtn_SmallTabs fDisabled_SmallTabs" onmousedown="TLN_AFP_IVIEW.scrollBtnDown(this);event.cancelBubble=true;" onmouseup="TLN_AFP_IVIEW.scrollBtnUp(this);event.cancelBubble=true;" onmouseover="TLN_AFP_IVIEW.scrollBtnHover(this);event.cancelBubble=true;" onmouseout="TLN_AFP_IVIEW.scrollBtnOut(this);event.cancelBubble=true;"></div></td>');cp.Append('<td><div class="OverflowDivider_SmallTabs"></div></td>');cp.Append('<td><div id="tlnOverflowBtn" class="OverflowBtn_SmallTabs oStandard_SmallTabs" enabled="1" standardClass="OverflowBtn_SmallTabs oStandard_SmallTabs" hoverClass="OverflowBtn_SmallTabs oHover_SmallTabs" downClass="OverflowBtn_SmallTabs oDown_SmallTabs" disableClass="OverflowBtn_SmallTabs oDisabled_SmallTabs" onclick="if (JSUtils.$(\'OverflowAreaOpen\').style.display != \'none\'){TLN_AFP_IVIEW.draw1stLevelOverflowMenu(this);}" onmouseover="TLN_AFP_IVIEW.scrollBtnHover(this);event.cancelBubble=true;" onmouseout="TLN_AFP_IVIEW.scrollBtnOut(this);event.cancelBubble=true;"></div></td>');cp.Append("</tr>");cp.Append("</table>")}else{cp.Append('<div id="OverflowAreaOpen" class="ScrollingArea Open" style="display:none;">');cp.Append('<div id="tlnForwardBtn" class="ForwardBtn fStandard" enabled="1" standardClass="ForwardBtn fStandard" hoverClass="ForwardBtn fHover" downClass="ForwardBtn fDown" disableClass="ForwardBtn fDisabled" onmousedown="TLN_AFP_IVIEW.scrollBtnDown(this);event.cancelBubble=true;" onmouseup="TLN_AFP_IVIEW.scrollBtnUp(this);event.cancelBubble=true;" onmouseover="TLN_AFP_IVIEW.scrollBtnHover(this);event.cancelBubble=true;" onmouseout="TLN_AFP_IVIEW.scrollBtnOut(this);event.cancelBubble=true;"></div>');cp.Append('<div id="tlnBackwardBtn" class="BackwardBtn bDisabled" enabled="0" standardClass="BackwardBtn bStandard" hoverClass="BackwardBtn bHover" downClass="BackwardBtn bDown" disableClass="BackwardBtn bDisabled" onmousedown="TLN_AFP_IVIEW.scrollBtnDown(this);event.cancelBubble=true;" onmouseup="TLN_AFP_IVIEW.scrollBtnUp(this);event.cancelBubble=true;" onmouseover="TLN_AFP_IVIEW.scrollBtnHover(this);event.cancelBubble=true;" onmouseout="TLN_AFP_IVIEW.scrollBtnOut(this);event.cancelBubble=true;"></div>');cp.Append('<div id="tlnOverflowBtn" class="OverflowBtn oStandard" enabled="1" standardClass="OverflowBtn oStandard" hoverClass="OverflowBtn oHover" downClass="OverflowBtn oDown" disableClass="OverflowBtn oDisabled" onclick="if (JSUtils.$(\'OverflowAreaOpen\').style.display != \'none\'){TLN_AFP_IVIEW.draw1stLevelOverflowMenu(this);}" onmouseover="TLN_AFP_IVIEW.scrollBtnHover(this);event.cancelBubble=true;" onmouseout="TLN_AFP_IVIEW.scrollBtnOut(this);event.cancelBubble=true;"></div>');cp.Append("</div>")}cp.Append('<div id="dragHelper_div" class="FirstLevelDragHelper" style="z-index:300;"></div>');cp.Append('<div id="OverflowAreaClose" class="ScrollingArea Close'+b3+'" style="display:block;"></div>');ct.innerHTML=cp.ToString()};var b7=function b7(){var co=top.LSAPI.AFPPlugin.configuration.getResourceBundleValue("TopLevel","TLN_FRWRD_BTN");var cp=top.LSAPI.AFPPlugin.configuration.getResourceBundleValue("TopLevel","TLN_BCWRD_BTN");var cn=top.LSAPI.AFPPlugin.configuration.getResourceBundleValue("TopLevel","TLN_OVERFLOW_BTN");var ct=JSUtils.$("tlnForwardBtn");if(ct){ct.title=co}var cr=JSUtils.$("tlnBackwardBtn");if(cr){cr.title=cp}var cs=JSUtils.$("tlnOverflowBtn");if(cs){cs.title=cn}var cq=JSUtils.$("secondLevelOverflowButton_div");if(cq){cq.title=cn}};function l(cn){return cn.outerHTML||new XMLSerializer().serializeToString(cn)}var a1=function(co){var cn=LSAPI.getVisualPlugin();if(bB){bB=false;return}az=(aj=="No Images");a8(co);if(af){bv();if(LSAPI.AFPPlugin.configuration.isRTL()&&!az){bK()}var cp=JSUtils.$("firstLevelScrollable");if(az&&JSUtils.BrowserDetection.is_firefox){cp.style.height="44px"}cn.registerScreenModeChangeNotification(TLN_AFP_IVIEW.setFullScreenAttributes);cc(0);M();ak(co);AFPLayoutAPI.notifyOnFinishLoading("TopLevel");af=false}else{if(co&&Z){Z=false;ak(co)}else{if(co!=null&&co.getName()!=bV){ar(co)}}}};var a8=function(co){var cp;if(co){var cn=co.getFirstLevel();cp=cn.getAttributeValue(a)}if(JSUtils.isEmpty(cp)||"null"==cp){cp=LSAPI.AFPPlugin.configuration.getAttributeValue("navLevels");if((JSUtils.isEmpty(cp)||"null"==cp)){cp=top.LSAPI.AFPPlugin.configuration.getClientSideAttributeValue(b0,"com.sap.portal.navigation.afp.numberOfLevels");if(JSUtils.isEmpty(cp)||"null"==cp){cp="2"}}}if((!JSUtils.isEmpty(X))&&(cp!=X)){Z=true;cl=true}X=cp;ce=(parseInt(X)==2)};var bK=function(){var cn=JSUtils.$("OverflowAreaOpen");if(cn){cn.style.right="5px"}var cp=JSUtils.$("OverflowAreaClose");if(cp){cp.style.right="5px"}var cr=JSUtils.$("tlnForwardBtn");if(cr){cr.style.right="10px"}var co=JSUtils.$("tlnBackwardBtn");if(co){co.style.right="10px"}var cq=JSUtils.$("tlnOverflowBtn");if(cq){cq.style.right="10px"}};var aq=function(){TLN_AFP_IVIEW.selected_tab=null;aK=null;Z=true;cl=true;P=false;v=[];b5=[];var cn=JSUtils.$("staticMenuDiv");if(cn){cn.innerHTML=""}};var bv=function(){var cn=AccessibilityManager.isAccessibilityModeOn();var cp="TlnMainTable";var co=JSUtils.$(cp);AccessibilityManager.setElementAccessKey(co,"T");co.tabIndex=0;AccessibilityManager.setSkipableElement(AccessibilityManager.TLN_ENTRY,co);AccessibilityManager.setEntryId(AccessibilityManager.TLN_ENTRY,cp);if(cn){aT.tlnEntry=top.LSAPI.AFPPlugin.configuration.getResourceBundleValue("TopLevel","ACC_TLN");aT.entryLevel=top.LSAPI.AFPPlugin.configuration.getResourceBundleValue("TopLevel","ACC_TLN_LEVEL");aT.selectedEntry=top.LSAPI.AFPPlugin.configuration.getResourceBundleValue("TopLevel","ACC_TLN_SELECTED");aT.unselectedEntry=top.LSAPI.AFPPlugin.configuration.getResourceBundleValue("TopLevel","ACC_TLN_UNSELECTED");AccessibilityManager.setElementAccessibilityTooltip(co,aT.tlnEntry)}};var ar=function(co){if(co==null){return}bV=co.getName();var cq=co;var cp=JSUtils.$(cq.getName());while(!cp&&cq.getParent()){cq=cq.getParent();cp=JSUtils.$(cq.getName())}if(cp){var cr=parseInt(cp.getAttribute("level"));if(cr==1){if(TLN_AFP_IVIEW.selected_tab!=cp.parentNode){bI(cp.parentNode);if(ce){cq.getChildren(aP,[co])}}}else{if(cr==2){if(cq.getParent()){var cn=JSUtils.$(cq.getParent().getName());if(cn){cn=cn.parentNode;if(TLN_AFP_IVIEW.selected_tab!=cn){bI(cn)}}}if(TLN_AFP_IVIEW.selected_subTab!=cp.parentNode){aV(cp.parentNode)}}}}};var ak=function(cn){LSAPI.AFPPlugin.model.getNavigationSubTree(null,a9,[cn])};var ck=function(co,cp,cn){if(!cp||!co){return false}if(co.getName()==cp){return true}else{if(cn){return ck(co.getParent(),cp,cn)}else{return false}}};var a3=function(co,cn){if(co.length>cn){return(co.substr(0,cn)+"...")}else{return co}};var ca;var aC=function(){ca=window.setTimeout("window.clearTimeout(TLN_AFP_IVIEW.setTlnSizeTimeout);TLN_AFP_IVIEW.setTlnSize();",20)};var bR=function(){ca=window.setTimeout("window.clearTimeout(TLN_AFP_IVIEW.setTlnSizeTimeout);TLN_AFP_IVIEW.setTlnSize();",20)};var cc=function(cq){if(cq!=0){return}if(!JSUtils.BrowserDetection.is_ie&&!JSUtils.BrowserDetection.applewebkit){var cp=JSUtils.$("BgSubTabArea1");var co=parseInt(cp.getAttribute("colspan"));var cn;if(co==5||co==3){cn=co-1;cp.setAttribute("colspan",cn)}}};var a0=function(){var cp;if(!cl){if(parseInt(V)==parseInt(LayoutService.getBodyWidth())||parseInt(LayoutService.getBodyWidth())==0){return}}else{cl=false}V=parseInt(LayoutService.getBodyWidth());var co=JSUtils.$("firstLevelScrollable");if(!ag){ag=JSUtils.$("firstLevelScrollable_td")}if(!bb){bb=JSUtils.findAbsolutePosition(co)}aR();bF();if(!JSUtils.BrowserDetection.is_ie){co.style.display="block";var cn=JSUtils.$("staticMenuDiv");ag.style.display="";if(cn){if(az){cn.style.height="44px"}else{cn.style.height="67px"}}}window.setTimeout(TLN_AFP_IVIEW.fixTLNWidth,(JSUtils.BrowserDetection.applewebkit)?100:0);if(TLN_AFP_IVIEW.selected_tab){bq(TLN_AFP_IVIEW.selected_tab)}};var bz=function(){if(!JSUtils.BrowserDetection.is_ie){return}var cn=parseInt(JSUtils.$("firstLevelScrollable_td").clientWidth);var co=parseInt(JSUtils.$("firstLevelScrollable").clientWidth);if(cn>co){JSUtils.$("firstLevelScrollable").style.width=cn+"px"}var cq=parseInt(JSUtils.$("BgSubTabArea1").clientWidth);var cp=parseInt(JSUtils.$("secondLevelScrollable").clientWidth);if(JSUtils.BrowserDetection.is_ie&&LSAPI.AFPPlugin.configuration.isRTL()&&cq>cp){JSUtils.$("secondLevelScrollable").style.width=cq+"px"}};var by=function by(){var ct;if(LayoutService.getLayoutMinWidth()>V){ct=LayoutService.getLayoutMinWidth()}else{ct=V}if(!ag){ag=JSUtils.$("firstLevelScrollable_td")}var cs=JSUtils.$("firstLevelScrollable");var cr=S();aF("open");var cq=ag.parentNode;var co=0;for(var cp=0;cp<cq.children.length;cp++){var cn=cq.children[cp];if(cn.tagName=="TD"&&cn!=ag){co+=cn.scrollWidth}}cs.style.width=(ct-co-cr)+"px"};var bP=function bP(){var cq;if(LayoutService.getLayoutMinWidth()>V){cq=LayoutService.getLayoutMinWidth()}else{cq=V}var cr=JSUtils.$("secondLevelOverflowButton_div");var cs=JSUtils.$("secondLevelScrollable");cr.style.display="block";var cp=cr.clientWidth;var co=S();var cn=LSAPI.AFPPlugin.configuration.isRTL()?4:0;if(ce){cs.style.width=(cq-cp-co-cn)+"px"}};var aR=function(){by();if(LSAPI.AFPPlugin.configuration.isRTL()){z()}else{G()}};var G=function(){var cq=JSUtils.$("firstLevelScrollable");var cw=JSUtils.$("allFirstLevelTabs");var cp=JSUtils.$("endStretchedArea");var cC=cp.parentNode;var cA=false;if(v.length>bi+1){var co=cw.lastChild;while(co&&co.id.indexOf(N)!=0){co=co.previousSibling}var cv=JSUtils.findAbsolutePosition(co).x;var cz=JSUtils.findAbsolutePosition(cw).x;cA=co&&(cv+parseInt(co.getAttribute(o))>cz+parseInt(cq.style.width))}var cB=cp.previousSibling;for(var ct=0;ct<1;ct++){while(cB.tagName!="TD"){cB=cB.previousSibling}for(var cs=0;cs<cB.childNodes.length;cs++){if(cB.childNodes[cs].nodeName=="#text"){continue}cB.childNodes[cs].style.visibility=(cA)?"visible":"hidden"}cB=cB.previousSibling}if(cA){aF("open");br=cv-cz+parseInt(co.getAttribute(o))-parseInt(cq.style.width)-1;cj("both");if(JSUtils.BrowserDetection.applewebkit&&!az){cq.style.width=(parseInt(cq.style.width)+9)+"px"}}else{br=undefined;aF("close");cq.scrollLeft=0;var cy=parseInt(cq.style.width);if(JSUtils.BrowserDetection.is_ie){cq.style.width=(cy+13)+"px"}else{if(JSUtils.BrowserDetection.applewebkit){var cn=az?48:26;cq.style.width=(cy+cn)+"px"}else{var cx=az?49:17;cq.style.width=(cy+cx)+"px"}}}cq.setAttribute(aL,cA?"true":"false");if(ce){if(cp.previousSibling.className!=bj){for(var ct=0;ct<cC.cells.length;ct++){if(ct==0||(ct==2&&bi>0)){continue}var cB=cC.cells[ct];if(cB.className==""||cB.className.length==0){cB.className=bj}else{if(cB.className.indexOf(bj)==-1){cB.className=cB.className+" "+bj}}}}}else{for(var ct=0;ct<cC.cells.length;ct++){if(ct==0||(ct==2&&bi>0)){continue}var cB=cC.cells[ct];if(cB.className.indexOf(bj)>-1){var cu=cB.className.split(" ");var cr="";for(var cs=0;cs<cu.length;cs++){if(cu[cs]!=bj){cr+=((cr=="")?(cu[cs]):(" "+cu[cs]))}}cB.className=cr}}}};var z=function(){var cq=JSUtils.$("firstLevelScrollable");var cv=JSUtils.$("allFirstLevelTabs");var cp=JSUtils.$("endStretchedArea");var cz=cp.parentNode;var cx=false;if(v.length>bi+1){var co=cv.lastChild;while(co&&co.id.indexOf(N)!=0){co=co.previousSibling}var cu=JSUtils.findAbsolutePosition(co).x;var cw=JSUtils.findAbsolutePosition(cv).r;var cr=JSUtils.findAbsolutePosition(cv).x;cx=co&&(cu-document.body.scrollLeft)<cw-parseInt(cq.style.width)}var cy=cp.previousSibling;for(var ct=0;ct<1;ct++){while(cy.tagName!="TD"){cy=cy.previousSibling}for(var cs=0;cs<cy.childNodes.length;cs++){if(cy.childNodes[cs].nodeName=="#text"){continue}cy.childNodes[cs].style.visibility=(cx)?"visible":"hidden"}cy=cy.previousSibling}if(cx){aF("open");br=cu-cr;aG=cv.clientWidth-parseInt(cq.style.width);cf("both");if(JSUtils.BrowserDetection.applewebkit&&!az){cq.style.width=(parseInt(cq.style.width)+9)+"px"}}else{br=undefined;aG=undefined;aF("close");cq.scrollLeft=cv.clientWidth-parseInt(cq.style.width);if(!JSUtils.BrowserDetection.is_ie){cq.style.width=(parseInt(cq.style.width)+7)+"px"}else{cq.style.width=(parseInt(cq.style.width)+13)+"px"}}cq.setAttribute(aL,cx?"true":"false");if(ce){if(cp.previousSibling.className!=bj){var cn=cz.parentNode;while(cn.tagName!="TABLE"){cn=cn.parentNode}for(var ct=0;ct<cz.cells.length;ct++){if(ct==0||(ct==2&&bi>0)){continue}var cy=cz.cells[ct];if(cy.className==""||cy.className.length==0){cy.className=bj}else{if(cy.className.indexOf(bj)==-1){cy.className=cy.className+" "+bj}}}}}};var bF=function(){if(!ce){return}bP();if(LSAPI.AFPPlugin.configuration.isRTL()){aQ()}else{aX()}};var aX=function(){var cn=JSUtils.$("secondLevelScrollable");var cr=JSUtils.$("secondLevelOverflowButton_div");var cp=0;var cq=null;var co=0;while(true){var cq=JSUtils.$(bL+cp);if(!cq){break}co+=cq.clientWidth;if(co>=cn.clientWidth){break}cp++}if(cq){cr.style.display="block";aY=cp}else{cr.style.display="none"}};var aQ=function(){var cq=JSUtils.$("secondLevelOverflowButton_div");var cn=0;var cp=null;var co=cq.clientWidth;while(true){var cp=JSUtils.$(bL+cn);if(!cp||JSUtils.findAbsolutePosition(cp).x<=co){break}cn++}if(cp){cq.style.display="block";aY=cn}else{cq.style.display="none"}};var bx=function(){return bb};var W=function(){return JSUtils.$("firstLevelScrollable")};var a9=function(co,cv){if(!co){return}var cz="onmouseout";var ct="onmouseover";if(JSUtils.BrowserDetection.is_ie){cz="onmouseleave";ct="onmouseenter"}var cy=LSAPI.getTabsetPlugin().isEnabled();var cA=LSAPI.getTabsetPlugin().getCurrentTabset();if(cy&&(cA!="ALL")){bi=0}else{ax()}var cB=[];v=[];for(var cq=0;cq<co.length;cq++){var cp,cw,cC,cx,cn,cu;cp=co[cq];cw=JSUtils.ESCAPE_TO_HTML(cp.getTitle());cC=(cp.getAttributeValue(ai))?cp.getAttributeValue(ai):cw;cx=cp.getNodeURI();cn=(bN(cq))?0:1;if(cp.getAttributeValue(A)==null){cu=true}else{cu=(cp.getAttributeValue(A)=="true")}if(!cu){b5.push(cp.getName())}else{v.push(cp.getName());cB.push('<div id="',N,cq,'" ');cB.push(s,'="',cw,'" ');cB.push('title="',cC,'" ');cB.push('topTabIndex="',cq,'" ');cB.push('isDrag="',cn,'" ');if(!JSUtils.BrowserDetection.is_ie){cB.push('style="-moz-user-select:none;" ')}cB.push(cz+'="if(TLN_AFP_IVIEW.selected_tab!=this){TLN_AFP_IVIEW.tabStandard(this.id);}');if(!bN(cq)){if(an){cB.push("TLN_AFP_IVIEW.hideFirstLevelTabCloseButton(this);")}if(Q){cB.push("TLN_AFP_IVIEW.hideFirstLevelTabGrasp(this);")}}cB.push('" ');cB.push(ct+'="TLN_AFP_IVIEW.tabHover(this.id);" ');cB.push('class="',((bN(cq))?bT:aJ)+(ce?(" "+bj):""),' TabStandard">');var cr=(ce)?"TabDownForSubContainer":"TabDownContainer";var cs=(JSUtils.BrowserDetection.is_ie)?"":' style="margin-top:-1px;"';cB.push('<div id="tabDown',cq,'" class="'+cr+'"'+cs+">");if(az&&bN(cq)){cB.push(U())}else{cB.push((ce)?aa():ah())}cB.push("</div>");cB.push('<div class="Icon_TitleContainer">');cB.push('<div id="tabIcon',cq,'" class="',((cq==0&&bi>0)?K:a6),'"></div>');if(!az||!bN(cq)){cB.push('<div class="'+bw+'" nowrap="nowrap" style="white-space:nowrap">',cw,"</div>")}cB.push("</div>");if(!bN(cq)){cB.push('<div id="tabSeperator',cq,'" class="',aM,(ce?(" "+bj):""),'"></div>');if(an){cB.push('<div id="CloseButtonContainer',cq,'" class="CloseButtonContainer">');cB.push('<div class="CloseButtonImageStandard"');cB.push(" onmouseover=\"this.className = 'CloseButtonImageHover';\"");cB.push(" onmouseout=\"this.className = 'CloseButtonImageStandard';\"");cB.push(" onmousedown=\"this.className = 'CloseButtonImageDown';\"");cB.push(" onmouseup=\"this.className = 'CloseButtonImageHover';TLN_AFP_IVIEW.removeFirstLevelTab(this.parentNode.parentNode);\">");cB.push("</div>");cB.push("</div>")}if(Q){cB.push('<div id="TabGraspImage',cq,'" class="TransparentCover" style="display:none;" onmousedown="AFP_TLN_DRAG_DROP.mouseDown(); return false;"></div>')}}cB.push('<div style="display:none;" id="',cp.getName(),'" level="1"></div>');cB.push("</div>");if(bN(cq)){JSUtils.$("staticMenuDiv").innerHTML=cB.join("");if(!JSUtils.BrowserDetection.is_ie&&!JSUtils.BrowserDetection.is_firefox){JSUtils.$("staticMenuDiv").style.paddingTop="1px"}cB=[]}}}var cs="";if(az&&JSUtils.BrowserDetection.applewebkit){cs=' style="height:44px;" '}if(ce){cB.push('<div class="TabBottomBorder" id="firstLevelStrechedTab"'+cs+">"+n+"</div>")}else{cB.push('<div id="firstLevelStrechedTab"'+cs+">"+n+"</div>")}cB.push(al());aw(cB);q(co,cv)};var bN=function bN(cn){return(cn<bi)};var aw=function(cn){var co=JSUtils.$("allFirstLevelTabs");if(!ag){ag=JSUtils.$("firstLevelScrollable_td")}if(JSUtils.BrowserDetection.is_ie){if(az){ag.style.width=ag.clientWidth+"px"}else{ag.style.width="auto"}}co.innerHTML=cn.join("");co.className=co.className;if(!JSUtils.BrowserDetection.applewebkit){co.style.width=bo+"px"}ag.style.width="100%";ag.style.display="block";if(!JSUtils.BrowserDetection.is_ie){ag.style.paddingTop="1px"}};var q=function(cn,cu){var ct=JSUtils.$(N+"0");if(ct){var cq=parseInt(ct.clientWidth);if(cq==0){window.setTimeout(function(){q(cn,cu)},20);return}}var co;if(cu.length){co=cu[0]}if((!co)||"?NavigationTarget=Roles://ErrorNode"==co.originalObject.nodeURI){co=cn[0]}var cv=0;for(var cs=0;cs<cn.length;cs++){var cp=JSUtils.$(N+cs);if(!cp){continue}cp.tabIndex=0;cp.setAttribute(bu,cn.length);b6(cp,cs);if(cs==0){cp.setAttribute(bn,parseInt(cp.clientHeight))}cp.setAttribute(s,JSUtils.ESCAPE_TO_HTML(cp.getAttribute(s)));cp.setAttribute(bl,JSUtils.ESCAPE_TO_HTML(cp.title));cp.setAttribute(ch,"false");cp.onclick=function(){var cy=cn[parseInt(this.getAttribute(ay))];var cw=cy.hasChildren();var cx=cy.getNodeURI();top.LSAPI.AFPPlugin.service.navigate(cy,cy.getShowType(),"ExecuteLocally=true&DrillDownLevel="+g)};cp.onfocus=function(){F();bq(this);var cw=this.getAttribute(ch)=="true";if(!cw){I(this)}};cp.onblur=function(){var cw=this.getAttribute(ch)=="true";if(!cw){be(this)}};cp.onkeydown=function(cz){var cw=cz||window.event;var cy=cw.keyCode;if(LSAPI.AFPPlugin.configuration.isRTL()){cy=AccessibilityManager.getSwitchKeyboardArrowsDirection(cy)}switch(cy){case AccessibilityManager.KEY_ENTER:case AccessibilityManager.KEY_SPACE:this.onclick();break;case AccessibilityManager.KEY_DOWN:if(TLN_AFP_IVIEW.selected_subTab){try{TLN_AFP_IVIEW.selected_subTab.focus()}catch(cz){var cx=JSUtils.$("secondLevelTabs").firstChild;if(cx){cx.focus()}}}break;case AccessibilityManager.KEY_LEFT:av(this.id);break;case AccessibilityManager.KEY_RIGHT:ac(this.id);break;case AccessibilityManager.KEY_TAB:var cA=false;if(cw.shiftKey){cA=av(this.id)}else{cA=ac(this.id)}if(cA){AccessibilityManager.cancelDefaultKeyEvent(cw)}break}};bs(cp,1);var cr=cn[cs];if(ck(co,cr.getName(),true)){bI(cp);JSUtils.clearAllEventsFromElement(JSUtils.$("secondLevelTabs"));JSUtils.$("secondLevelTabs").innerHTML="";if(ce){if(cr.hasChildren()){cr.getChildren(aP,[co])}JSUtils.$("SecondLevelTR").style.display=""}else{JSUtils.$("SecondLevelTR").style.display="none"}}cv+=parseInt(cp.style.width)}if(!JSUtils.BrowserDetection.applewebkit&&cv>bo){nodes_container.style.width=(150+cv)+"px"}if(!ce||(co&&!co.hasChildren())){bR()}aO();bA()};var ac=function ac(cr){var cp=JSUtils.$(cr);if(!cp){return}var cn=parseInt(cp.getAttribute(ay));var co=cp.nextSibling;if(bN(cn)&&!co){var cq=JSUtils.$("allFirstLevelTabs");if(cq){co=cq.firstChild}}while(co&&co.id.indexOf(N)!=0){co=co.nextSibling}if(co){co.focus();return true}return false};var av=function av(cp){var co=JSUtils.$(cp);if(!co){return}var cn=parseInt(co.getAttribute(ay));var cq=co.previousSibling;if(!bN(cn)&&(!cq||(cq.id.indexOf(N)!=0&&!cq.previousSibling))){cq=JSUtils.$(N+(bi-1))}while(cq&&cq.id.indexOf(N)!=0){cq=cq.previousSibling}if(cq){cq.focus();return true}return false};var F=function F(){var cn=JSUtils.$("firstLevelScrollable");if(!LSAPI.AFPPlugin.configuration.isRTL()){if(cn.scrollLeft>br){cn.scrollLeft=br}}cj("both")};var aO=function(){AFP_TLN_DRAG_DROP.setDragHelper(JSUtils.$("dragHelper_div"));AFP_TLN_DRAG_DROP.getDragHelper().className="FirstLevelDragHelper";AFP_TLN_DRAG_DROP.CreateDragContainer(JSUtils.$("allFirstLevelTabs"))};var bA=function(){EPCM.subscribeEvent("urn:com.sapportals.portal:browser","resize",aC)};var bs=function(cr,cs){if(!AccessibilityManager.isAccessibilityModeOn()){return}var cq=cr.getAttribute(bl);var cn=cr.getAttribute(ch)=="true";var co=new Array();co[0]=cs;var cp=cq+" - "+(cn?aT.selectedEntry:aT.unselectedEntry)+" - "+JSUtils.messageFormat(aT.entryLevel,co);AccessibilityManager.setElementAccessibilityTooltip(cr,cp)};var aP=function(cn,cu){var cp=JSUtils.$("secondLevelTabs");JSUtils.clearAllEventsFromElement(cp);cp.innerHTML="";if(!cn){return}bg=cn;var co=(cu&&cu.length)?cu[0]:undefined;var cB=parseInt(cp.parentNode.parentNode.clientWidth);var ct=0;var cr;var cz=[];JSUtils.$("secondLevelOverflowButton_div").style.display="none";for(var cs=0;cs<cn.length;cs++){var cq=cn[cs];var cw=JSUtils.ESCAPE_TO_HTML(cq.getTitle());var cA=(cq.getAttributeValue(ai))?cq.getAttributeValue(ai):cw;var cx=cq.getNodeURI();var cv=cq.getName();cz.push('<div class="Tab SubTabStandard"');cz.push(' title="'+cA+'"');cz.push(" "+bL+'="'+cs+'"');cz.push(' id="'+bL+cs+'"');cz.push(' onmouseover="TLN_AFP_IVIEW.subTabHover(this);"');cz.push(' onmouseout="if(TLN_AFP_IVIEW.selected_subTab!=this){TLN_AFP_IVIEW.subTabStandard(this);}">');if(LSAPI.AFPPlugin.configuration.isRTL()){cz.push('<div class="Separator" style="float:left"></div>');cz.push('<div class="TabText" style="float:left">'+cw+"</div>")}else{cz.push('<div class="TabText">'+cw+"</div>");cz.push('<div class="Separator"></div>')}cz.push('<div style="display:none;" id="'+cv+'" level="2"></div>');cz.push("</div>")}cp.innerHTML=cz.join("");if(cr){JSUtils.$("secondLevelOverflowButton_div").style.display="block"}var cy=0;for(cs=0;cs<cp.childNodes.length;cs++){if(cp.childNodes[cs].tagName!="DIV"){continue}el=cp.childNodes[cs];el.tabIndex=0;el.setAttribute(bl,JSUtils.ESCAPE_TO_HTML(el.title));el.setAttribute(ch,"false");el.onclick=function(){var cC=cn[parseInt(this.getAttribute(bL))];LSAPI.AFPPlugin.service.navigate(cC,cC.getShowType(),"ExecuteLocally=true&DrillDownLevel="+(g-1))};el.onkeydown=function(cG){var cD=cG||window.event;var cF=cD.keyCode;if(LSAPI.AFPPlugin.configuration.isRTL()){cF=AccessibilityManager.getSwitchKeyboardArrowsDirection(cF)}if(cF==AccessibilityManager.KEY_ENTER||cF==AccessibilityManager.KEY_SPACE){this.onclick()}if(cF==AccessibilityManager.KEY_RIGHT){var cE=this.nextSibling;while(cE&&cE.tagName!="DIV"){cE=cE.nextSibling}if(cE){cE.focus()}}if(cF==AccessibilityManager.KEY_LEFT){var cC=this.previousSibling;while(cC&&cC.tagName!="DIV"){cC=cC.previousSibling}if(cC){cC.focus()}}if(cF==AccessibilityManager.KEY_UP){if(TLN_AFP_IVIEW.selected_tab){TLN_AFP_IVIEW.selected_tab.focus()}}};el.onfocus=function(){var cD=this.getAttribute(ch)=="true";if(!cD){b8(this)}if(LSAPI.AFPPlugin.configuration.isRTL()&&JSUtils.BrowserDetection.is_ie){var cE=JSUtils.$("secondLevelScrollable");var cC=JSUtils.$("secondLevelTabs");var cI=JSUtils.$("SecondLevelTR");var cH=S();var cG=cC.offsetWidth-cE.offsetWidth;var cJ=JSUtils.findAbsolutePosition(this);var cF=cJ.x-(cI.offsetWidth-cE.offsetWidth)-cH;if(cF==0&&cF<cG){cG=cF}cE.scrollLeft=cG}};el.onblur=function(){var cC=this.getAttribute(ch)=="true";if(!cC){H(this)}};bs(el,2);var cq=cn[parseInt(el.getAttribute(bL))];if(ck(co,cq.getName(),true)){aV(el)}cy+=el.clientWidth}if(!JSUtils.BrowserDetection.applewebkit&&cy>bo){cp.style.width=(150+cy)+"px"}if(!P||cl){P=true;bR()}else{bF()}};var S=function S(){var cp=0;var cn=JSUtils.$("frame01TD");if(cn){cp+=cn.offsetWidth}var co=JSUtils.$("frame21TD");if(co){cp+=co.offsetWidth}return cp};var aF=function(co){var cn=JSUtils.$("OverflowAreaClose");var cp=JSUtils.$("OverflowAreaOpen");if(co=="close"){cp.style.display="none";cn.style.display="block"}else{if(co=="open"){cp.style.display="block";cn.style.display="none"}}};var aZ=function(cn){if(LSAPI.AFPPlugin.configuration.isRTL()){r(cn)}else{B(cn)}};var B=function(co){var cn=JSUtils.$("firstLevelScrollable");if(co=="ff"){if(cn.scrollLeft<br){cn.scrollLeft+=bH}}else{if(co=="rw"){if(cn.scrollLeft>0){cn.scrollLeft-=bH}}}cj(co)};var r=function(cn){if(!firstLevelScrollable){firstLevelScrollable=$("firstLevelScrollable")}if(cn=="ff"){if(!JSUtils.BrowserDetection.is_firefox){if(firstLevelScrollable.scrollLeft<aG){firstLevelScrollable.scrollLeft+=bH}}else{firstLevelScrollable.scrollLeft+=bH}}else{if(cn=="rw"){if(!JSUtils.BrowserDetection.is_firefox){if(firstLevelScrollable.scrollLeft>br){firstLevelScrollable.scrollLeft-=bH}}else{firstLevelScrollable.scrollLeft-=bH}}}cj(cn)};var cj=function(cn){if(LSAPI.AFPPlugin.configuration.isRTL()){cf(cn)}else{e(cn)}};var e=function(cp){var cq=JSUtils.$("tlnForwardBtn");var co=JSUtils.$("tlnBackwardBtn");var cn=JSUtils.$("firstLevelScrollable");if(cp=="ff"||cp=="both"){if(cn.scrollLeft>=br){cn.scrollLeft=br;cq.setAttribute(b1,"0");cq.style.cursor="default";cq.className=cq.getAttribute(O);bE();co.setAttribute(b1,"1");co.style.cursor="pointer";co.className=co.getAttribute(w)}else{if(cq.getAttribute(b1)=="0"){cq.setAttribute(b1,"1");cq.style.cursor="pointer";cq.className=cq.getAttribute(w)}}}if(cp=="rw"||cp=="both"){if(cn.scrollLeft<=0){cn.scrollLeft=0;co.setAttribute(b1,"0");co.style.cursor="default";co.className=co.getAttribute(O);bE();cq.setAttribute(b1,"1");cq.style.cursor="pointer";cq.className=cq.getAttribute(w)}else{if(co.getAttribute(b1)=="0"){co.setAttribute(b1,"1");co.style.cursor="pointer";co.className=co.getAttribute(w)}}}};var cf=function(cn){if(!tlnForwardBtn){tlnForwardBtn=$("tlnForwardBtn")}if(!tlnBackwardBtn){tlnBackwardBtn=$("tlnBackwardBtn")}if(!JSUtils.BrowserDetection.is_firefox){if(cn=="ff"||cn=="both"){aG=allFirstLevelTabs.clientWidth-parseInt(firstLevelScrollable.style.width);if(firstLevelScrollable.scrollLeft>=aG){firstLevelScrollable.scrollLeft=aG;tlnBackwardBtn.setAttribute(b1,"0");tlnBackwardBtn.style.cursor="default";tlnBackwardBtn.className=tlnBackwardBtn.getAttribute(O);bE();tlnForwardBtn.setAttribute(b1,"1");tlnForwardBtn.style.cursor="pointer";tlnForwardBtn.className=tlnForwardBtn.getAttribute("standardClass")}else{if(tlnBackwardBtn.getAttribute(b1)=="0"){tlnBackwardBtn.setAttribute(b1,"1");tlnBackwardBtn.style.cursor="pointer";tlnBackwardBtn.className=tlnBackwardBtn.getAttribute("standardClass")}}}if(cn=="rw"||cn=="both"){if(firstLevelScrollable.scrollLeft<=br){firstLevelScrollable.scrollLeft=br;tlnForwardBtn.setAttribute(b1,"0");tlnForwardBtn.style.cursor="default";tlnForwardBtn.className=tlnForwardBtn.getAttribute(O);bE();tlnBackwardBtn.setAttribute(b1,"1");tlnBackwardBtn.style.cursor="pointer";tlnBackwardBtn.className=tlnBackwardBtn.getAttribute("standardClass")}else{if(tlnForwardBtn.getAttribute(b1)=="0"){tlnForwardBtn.setAttribute(b1,"1");tlnForwardBtn.style.cursor="pointer";tlnForwardBtn.className=tlnForwardBtn.getAttribute("standardClass")}}}}else{tlnForwardBtn.setAttribute(b1,"1");tlnForwardBtn.style.cursor="pointer";tlnForwardBtn.className=tlnForwardBtn.getAttribute("standardClass");tlnBackwardBtn.setAttribute(b1,"1");tlnBackwardBtn.style.cursor="pointer";tlnBackwardBtn.className=tlnBackwardBtn.getAttribute("standardClass")}};var I=function(cn){if(typeof(cn)=="string"){cn=JSUtils.$(cn)}if(!cn||cn.id=="dragChild"){return}var co,cq;var cp=parseInt(cn.getAttribute(ay));if(!bN(cp)){if(an){JSUtils.$("CloseButtonContainer"+cp).style.display="block"}if(Q){JSUtils.$("TabGraspImage"+cp).style.display="block"}}if(TLN_AFP_IVIEW.selected_tab==cn){return}co=JSUtils.$("tabIcon"+cp);if(bi>0&&cn.id=="tabIndex0"){cq=bc;cn.className=bT+" "+L+(ce?(" "+bj):"")}else{cq=Y;cn.className=aJ+" "+L+(ce?(" "+bj):"")}co.className=cq};var bI=function(co){bq(co);var cn,cq;var cr=parseInt(co.getAttribute(ay));if(TLN_AFP_IVIEW.selected_tab){be(TLN_AFP_IVIEW.selected_tab);TLN_AFP_IVIEW.selected_tab.setAttribute(ch,"false");bs(TLN_AFP_IVIEW.selected_tab,1)}var cp=co.scrollWidth;co.style.width=null;if(!bN(cr)){if(an){JSUtils.$("CloseButtonContainer"+cr).style.display="block"}}cn=JSUtils.$("tabDown"+cr);cq=JSUtils.$("tabIcon"+cr);if(bN(cr)){cq.className=ao;co.className=bT+" "+k}else{cq.className=b4;co.className=aJ+" "+k;if(ce&&!bN(cr)){JSUtils.$("tabSeperator"+cr).className=aM+" "+bj}}TLN_AFP_IVIEW.selected_tab=co;TLN_AFP_IVIEW.selected_tab.setAttribute(ch,"true");bs(TLN_AFP_IVIEW.selected_tab,1);cn.style.display="block";if(bi==0&&co.id=="tabIndex0"&&LSAPI.AFPPlugin.configuration.isRTL()){var cs=co.childNodes[1].offsetWidth+4;co.style.width=cs;co.setAttribute(o,cs);cn.style.width="auto"}if(JSUtils.BrowserDetection.is_ie){cn.style.height=(bi==0||co.id!="tabIndex0")?"100%":(co.getAttribute(bn)+"px")}else{if(az){cn.style.height="45px"}else{cn.style.height="100%"}}var ct=b6(co,cr);cn.style.width=parseInt(ct)-((!bN(cr))?1:0)+"px";if(LSAPI.AFPPlugin.configuration.isRTL()&&(!bN(cr))){if(az){bQ(ct-cp-b)}else{bQ(-b)}}else{bQ(ct-cp)}};var b6=function b6(co,cn){var cp=co.scrollWidth;if(LSAPI.AFPPlugin.configuration.isRTL()&&!bN(cn)){cp+=b}co.style.width=cp;co.setAttribute(o,cp);return cp};var be=function(cn){if(typeof(cn)=="string"){cn=JSUtils.$(cn)}if(!cn||cn.id=="dragChild"){return}var cp=parseInt(cn.getAttribute(ay));JSUtils.$("tabDown"+cp).style.display="none";var co=cn.scrollWidth;if(cn.style.display!="none"){cn.style.width=null}if(bi>0&&cn.id=="tabIndex0"){JSUtils.$("tabIcon0").className=K;cn.className=bT+(ce?(" "+bj):"")+" TabStandard"}else{JSUtils.$("tabIcon"+cn.getAttribute(ay)).className=a6;if(!bN(cp)){if(an){JSUtils.$("CloseButtonContainer"+cp).style.display="none"}if(Q){JSUtils.$("TabGraspImage"+cp).style.display="none"}}cn.className=aJ+(ce?(" "+bj):"")+" TabStandard";if(ce){JSUtils.$("tabSeperator"+cp).className=aM+" "+bj}}if(cn.style.display!="none"){var cq=b6(cn,cp);if(LSAPI.AFPPlugin.configuration.isRTL()&&az&&(!bN(cp))){bQ(cq-co-b)}else{bQ(cq-co)}}};var bQ=function bQ(co){if(br&&br!=undefined&&!isNaN(br)&&(co!=0)){if(!LSAPI.AFPPlugin.configuration.isRTL()){br+=co;if(az){e("both")}}else{br-=co;if(az){cf("both")}}}if(aG&&!isNaN(aG)){var cn=JSUtils.$("firstLevelScrollable");aG=JSUtils.$("allFirstLevelTabs").clientWidth-parseInt(cn.style.width)}};var bJ=function(cn){if(JSUtils.$("OverflowAreaOpen").style.display=="none"){return}cn.className="Menu "+bS+" "+L+(ce?(" "+bj):"")};var f=function(cn){if(JSUtils.$("OverflowAreaOpen").style.display=="none"){return}cn.className="Menu "+bS+" TabStandard"+(ce?(" "+bj):"")};var bY=function(cn){JSUtils.$("CloseButtonContainer"+cn.getAttribute(ay)).style.display="block"};var J=function(cn){JSUtils.$("CloseButtonContainer"+cn.getAttribute(ay)).style.display="none"};var a2=function(cn){JSUtils.$("TabGraspImage"+cn.getAttribute(ay)).style.display="block"};var p=function(cn){JSUtils.$("TabGraspImage"+cn.getAttribute(ay)).style.display="none"};var bZ=function(co){if(co==aK){if(co.nextSibling){bI(co.nextSibling)}else{if(co.previousSibling){bI(co.previousSibling)}}}co.parentNode.removeChild(co);var cn=co.lastChild;while(cn.tagName!="DIV"){cn=cn.previousSibling}var cq=cn.id;aB(cq);var cr=JSUtils.$("firstLevelScrollable");var cp=JSUtils.$("allFirstLevelTabs");br=parseInt(cp.lastChild.offsetLeft)+parseInt(cp.lastChild.clientWidth)-parseInt(cr.clientWidth)-1};var aH=function aH(cn){if(cn.toElement.getAttribute(T)&&cn.toElement.getAttribute(T)!==""){if(cg&&cg!==cn.toElement){cd(cg)}cg=cn.toElement;x(cn.toElement)}};var ae=function ae(cn){if(cn.toElement&&cn.toElement.id=="endStretchedArea"){return}if(cg){cd(cg);cg=null}};var am=function am(cn){aI(getElementFromEvent(cn))};var bG=function bG(cn){h(getElementFromEvent(cn))};var x=function(cn){if(cn.getAttribute(b1)=="1"){cn.className=cn.getAttribute(T)}};var cd=function(cn){bE();if(cn.getAttribute(b1)=="1"){cn.className=cn.getAttribute(w)}};var aI=function(co){if(co.getAttribute(b1)=="1"){var cp;if(LSAPI.AFPPlugin.configuration.isRTL()){cp=(co.id=="tlnForwardBtn")?"rw":"ff"}else{cp=(co.id=="tlnForwardBtn")?"ff":"rw"}var cn=(co.id=="tlnForwardBtn")?JSUtils.$("tlnBackwardBtn"):JSUtils.$("tlnForwardBtn");a5(cp);co.className=co.getAttribute(aS);aZ(cp);cn.setAttribute(b1,"1");cn.style.cursor="pointer";cn.className=cn.getAttribute(w)}};var h=function(cn){bE();if(cn.getAttribute(b1)=="1"){cn.className=cn.getAttribute(T)}};var a5=function(cn){if(ab){return}ab=setInterval("TLN_AFP_IVIEW.first_level_scroll('"+cn+"')",bU)};var bE=function(){clearInterval(ab);ab=null};var bq=function(cn){if(!LSAPI.AFPPlugin.configuration.isRTL()){i(cn)}else{c(cn)}};var i=function(cq){var cn,ct,cp,co;var cs=cq.getAttribute(ay);var cr=JSUtils.$("firstLevelScrollable");if(!bN(parseInt(cs))&&cr.getAttribute(aL)=="true"){if(!bb){bb=JSUtils.findAbsolutePosition(cr)}ct=JSUtils.findAbsolutePosition(cq);cp=ct.x-bb.x+parseInt(cq.getAttribute(o));co=ct.x;if(cp>parseInt(cr.style.width,0)){cr.scrollLeft=cr.scrollLeft+(cp-parseInt(cr.style.width,0));cj("both")}else{if(co<bb.x){cr.scrollLeft=cr.scrollLeft-(bb.x-co);cj("both")}}}else{cr.scrollLeft=0}};var c=function(cr){var co,cu,cq,cp;var ct=cr.getAttribute(ay);var cs=JSUtils.$("firstLevelScrollable");if(!bN(parseInt(ct))&&cs.getAttribute(aL)=="true"){if(!bb){bb=JSUtils.findAbsolutePosition(cs)}cu=JSUtils.findAbsolutePosition(cr);cq=cu.x+parseInt(cr.getAttribute(o),0);cp=cu.x;if(cq>parseInt(cs.style.width)){cs.scrollLeft+=(cq-parseInt(cs.style.width,0));cj("both")}else{var cn=JSUtils.findAbsolutePosition(JSUtils.$("OverflowAreaOpen")).r;if(cp<cn){cs.scrollLeft-=(cn-cp);cj("both")}}}else{if(aG&&typeof(aG)!="undefined"){cs.scrollLeft=aG}}};var d=function(cn){if(!LSAPI.AFPPlugin.configuration.isRTL()){bt(cn)}else{bk(cn)}};var bt=function(cw){var cx;var cn="topTabMenuItem";var cv=[];var cp=JSUtils.$("firstLevelScrollable");if(!bb){bb=JSUtils.findAbsolutePosition(cp)}var cs=null;cx=JSUtils.findAbsolutePosition(JSUtils.$(v[bi]).parentNode);for(var cr=0;cr<v.length;cr++){var cq=JSUtils.$(v[cr]).parentNode;var ct=cx.x-bb.x+parseInt(cq.getAttribute(o));var cu=cx.x;var co=(!bN(cr))&&((ct-5>parseInt(cp.style.width,0))||(cu<(bb.x-5)));if(cs==null&&ct>parseInt(cp.style.width,0)){cs=cr}var cy={title:cq.getAttribute(s),isSelected:cq.getAttribute(ch),origNodeEl:cq,isFirstVisibleRow:(cs==cr),isOverflowing:co,tooltip:JSUtils.ESCAPE_TO_HTML(cq.getAttribute("title")),action:function(cA){this.origNodeEl.onclick(cA)}};cv.push(cy);if(!bN(cr)){cx.x+=parseInt(cq.getAttribute(o))}}SingleNovaPopupMenu.draw(cw,cn,cv);var cz=JSUtils.$(cn+"0");if(cz){cz.focus()}};var bk=function(cx){var cn="topTabMenuItem";var cw=[];var cp=JSUtils.$("firstLevelScrollable");if(!bb){bb=JSUtils.findAbsolutePosition(cp)}var cs=null;var cy=JSUtils.findAbsolutePosition(JSUtils.$(v[bi]).parentNode);var ct=JSUtils.findAbsolutePosition(JSUtils.$("OverflowAreaOpen")).r;for(var cr=0;cr<v.length;cr++){var cq=JSUtils.$(v[cr]).parentNode;var cv=cy.x;var cu=cy.x+parseInt(cq.getAttribute(o));var co=(!bN(cr))&&((cv<ct)||(cu-65)>parseInt(cp.style.width,0));if(cs==null&&cv>parseInt(cp.style.width,0)){cs=cr}var cz={title:cq.getAttribute(s),isSelected:cq.getAttribute(ch),origNodeEl:cq,isFirstVisibleRow:(cs==cr),isOverflowing:co,tooltip:JSUtils.ESCAPE_TO_HTML(cq.getAttribute("title")),action:function(cB){this.origNodeEl.onclick(cB)}};cw.push(cz);if(!bN(cr)){cy.x-=parseInt(cq.getAttribute(o))}}SingleNovaPopupMenu.draw(cx,cn,cw);var cA=JSUtils.$(cn+"0");if(cA){cA.focus()}};var bD=function bD(cq){var cr=JSUtils.$("firstLevelScrollable");if(!bb){bb=JSUtils.findAbsolutePosition(cr)}var ct=JSUtils.findAbsolutePosition(JSUtils.$(v[bi]).parentNode);var cp=ct.x-bb.x+parseInt(cq.getAttribute(o));var co=ct.x;var cn=parseInt(cq.getAttribute(ay));var cs=(!bN(cn))&&((cp-5>parseInt(cr.style.width,0))||(co<(bb.x-5)));return cs};var b8=function(cn){if(TLN_AFP_IVIEW.selected_subTab==cn){return}cn.className="Tab SubTabHover"};var H=function(cn){if(!cn){return}cn.className="Tab SubTabStandard"};var aV=function(cn){if(TLN_AFP_IVIEW.selected_subTab){TLN_AFP_IVIEW.selected_subTab.setAttribute(ch,"false");H(TLN_AFP_IVIEW.selected_subTab);bs(TLN_AFP_IVIEW.selected_subTab,2)}cn.className="Tab SubTabDown";TLN_AFP_IVIEW.selected_subTab=cn;TLN_AFP_IVIEW.selected_subTab.setAttribute(ch,"true");bs(TLN_AFP_IVIEW.selected_subTab,2)};var at=function(cr){var cn="subTabMenuItem";var cq=[];for(var cp=aY;cp<bg.length;cp++){var co=bg[cp];var cs=JSUtils.ESCAPE_TO_HTML(co.getTitle());var cw=cs;if(AccessibilityManager.isAccessibilityModeOn()){var cu=new Array();cu[0]=2;var cw=cs+" - "+aT.unselectedEntry+" - "+JSUtils.messageFormat(aT.entryLevel,cu)}var ct={title:cs,origNode:co,nodeName:co.getName(),tooltip:cw,action:function(cx){LSAPI.AFPPlugin.service.navigate(this.origNode,this.origNode.getShowType(),"ExecuteLocally=true&DrillDownLevel="+(g-1));aV(JSUtils.$(this.nodeName).parentNode)}};cq.push(ct)}SingleNovaPopupMenu.draw(cr,cn,cq);var cv=JSUtils.$(cn+"0");if(cv){cv.focus()}};var au=function(cr,cs){if(!cs){return}var cp,co;var cn=cr.lastChild;while(cn.tagName!="DIV"){cn=cn.previousSibling}cp=cn.id;v.splice(JSUtils.findItemInArray(v,cp),1);if(cs!="end"&&cs.id!="firstLevelStrechedTab"){var cq=cs.lastChild;while(cq.tagName!="DIV"){cq=cq.previousSibling}co=cq.id;v.splice(JSUtils.findItemInArray(v,co),0,cp)}else{v.push(cp)}D=true;personalizationChange()};var bC=function bC(){TLN_AFP_IVIEW.selected_tab=null;Z=true;E()};var E=function E(){if(!D){return}D=false;if((v.length<1)&&(b5.length<1)){return}var cn=null;if(LSAPI.getTabsetPlugin().isEnabled()){cn=LSAPI.getTabsetPlugin().getCurrentTabset()}LSAPI.AFPPlugin.service.setInitialNodes(cn,v,b5,ap)};var M=function M(){if(LSAPI.AFPPlugin.configuration.getClientSideAttributeValue("TopLevel",aA)=="true"){var cn=top.LSAPI.Collections._private.collectionsModel._private.getCollection(aW);if(!JSUtils.isEmpty(cn)){var co=top.LSAPI.AFPPlugin.configuration.getClientSideAttributeValue("TopLevel",bp);cn.createItem("ClearPersonalizationItem",co,co,"javascript:if (parent.EPCM) {parent.EPCM.raiseEvent('urn:com.sapportals:navigation','ClearPersonalization','');}",null);top.LSAPI.Collections._private.collectionsModel._private.addFixedCollections([cn],true)}}};var ba=function ba(){D=false;var cq=new ParamMap();cq.put("action","setInitialNodes");cq.put("clearData","true");var cn=new ParamMap();LSAPI.AFPPlugin.urlhandler.addHierarchyParams(cn);var cp=JSUtils.getQueryAndParams(cn);if(typeof(cp)!=="undefined"){cp.remove("CurrentWindowId");cq=cq.merge(cp)}var cr={success:cb};var co=[];co[0]=CachingCretiria.INITIAL_NODES_PERSONALIZATION;AFPConnection.requestIfUpdated(mm_servletLocation,cq,cr,co,RequestMethod.POST)};var ap=function(co){var cn=(new Date()).getTime();AFPConnection.setCacheTimestampValue(CachingCretiria.INITIAL_NODES_PERSONALIZATION,cn)};var cb=function(){JSUtils.refreshPortalToFirstNode()};var aB=function(cn){v.splice(JSUtils.findItemInArray(v,cn),1);b5.push(cn);personalizationChange()};var bX=function(){var cn=top.LSAPI.getVisualPlugin();if(cn!=null){var co=cn.getScreenMode();if(co==cn.SCREENMODE_NORMAL){cl=true;TLN_AFP_IVIEW.setTlnSize();ar(LSAPI.AFPPlugin.model.getCurrentLaunchNode())}else{if(co==cn.SCREENMODE_FULL){}}}};var bd=function bd(){aJ="TabWorkCenter"+b3;bT="TabHome"+b3;bf="DarkSeparator01"+b3;aM="Separator"+b3;a6="WorkcenterStandard"+b3;b4="WorkcenterDown"+b3;Y="WorkcenterHover"+b3;K="HouseStandard"+b3;ao="HouseDown"+b3;bc="HouseHover"+b3;L="TabHover"+b3;bO="TabDown00"+b3;b2="TabDown10"+b3;ci="TabDown20"+b3;aE="TabDownForSub00"+b3;aU="TabDownForSub10"+b3;a7="TabDownForSub20"+b3;bm="TabDownForSub01"+b3;bW="TabDownForSub11"+b3;b9="TabDownForSub21"+b3;bS="OverflowTab"+b3;j="DragMarker1"+b3;bw="TabText"+b3;k="TabDown"+b3};return{setInitialParams:cm,initTLN:aD,updateTLN:a1,screenModeChange:bX,pixelImage:n,darkSeperatorHTML:bh,selected_tab:aK,selected_subTab:y,tabStandard:be,subTabStandard:H,tabHover:I,subTabHover:b8,savePersonalization:E,clearPersonalization:ba,rearrangeTlnNodes:au,removeFirstLevelTab:bZ,firstLevelTabIdsArr:v,unDockedTabIdsArr:b5,scrollAreaHover:aH,scrollAreaOut:ae,scrollAreaDown:am,scrollAreaUp:bG,scrollBtnOut:cd,scrollBtnDown:aI,scrollBtnUp:h,scrollBtnHover:x,overflowHover:bJ,overflowStandard:f,hideFirstLevelTabCloseButton:J,hideFirstLevelTabGrasp:p,draw1stLevelOverflowMenu:d,draw2ndLevelOverflowMenu:at,first_level_scroll:aZ,lastBodyWidth:V,getFirstLevelPosition:bx,getFirstLevelScrollableElm:W,setFullScreenAttributes:cc,setTlnSize:a0,applyTabsetFilter:aq,updateFirstLevelScrollBtnsState:cj,fixTLNWidth:bz,updateNavLevels:a8,initCssPrefixes:bd,beforeTabsetSwitched:bC}}();EPCM.subscribeEventReliable("urn:com.sapportals.portal:browser","load",TLN_AFP_IVIEW.initTLN);